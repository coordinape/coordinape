table:
  name: nominees
  schema: public
object_relationships:
- name: circle
  using:
    manual_configuration:
      column_mapping:
        circle_id: id
      insertion_order: null
      remote_table:
        name: circles
        schema: public
- name: nominator
  using:
    manual_configuration:
      column_mapping:
        nominated_by_user_id: id
      insertion_order: null
      remote_table:
        name: users
        schema: public
- name: user
  using:
    manual_configuration:
      column_mapping:
        user_id: id
      insertion_order: null
      remote_table:
        name: users
        schema: public
array_relationships:
- name: nominations
  using:
    manual_configuration:
      column_mapping:
        id: nominee_id
      insertion_order: null
      remote_table:
        name: vouches
        schema: public
select_permissions:
- permission:
    columns:
    - circle_id
    - description
    - ended
    - expiry_date
    - id
    - name
    - nominated_by_user_id
    - nominated_date
    - user_id
    - vouches_required
    filter:
      circle:
        api_keys:
          _and:
          - hash:
              _eq: X-Hasura-Api-Key-Hash
          - read_nominees:
              _eq: true
    limit: 20
  role: api-user
- permission:
    allow_aggregations: true
    columns:
    - address
    - circle_id
    - created_at
    - description
    - ended
    - expiry_date
    - id
    - name
    - nominated_by_user_id
    - nominated_date
    - updated_at
    - user_id
    - vouches_required
    filter:
      circle:
        organization:
          circles:
            users:
              _and:
              - profile:
                  id:
                    _eq: X-Hasura-User-Id
              - deleted_at:
                  _is_null: true
  role: user
