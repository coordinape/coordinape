actions:
- name: adminUpdateUser
  definition:
    kind: synchronous
    handler: '{{HASURA_API_BASE_URL}}/actions/adminUpdateUser'
    forward_client_headers: true
    headers:
    - name: verification_key
      value_from_env: HASURA_EVENT_SECRET
  permissions:
  - role: user
  - role: superadmin
- name: createCircle
  definition:
    kind: synchronous
    handler: '{{HASURA_API_BASE_URL}}/actions/createCircle'
    forward_client_headers: true
    headers:
    - name: verification_key
      value_from_env: HASURA_EVENT_SECRET
  permissions:
  - role: user
  - role: superadmin
- name: createUser
  definition:
    kind: synchronous
    handler: '{{HASURA_API_BASE_URL}}/actions/createUser'
    forward_client_headers: true
    headers:
    - name: verification_key
      value_from_env: HASURA_EVENT_SECRET
  permissions:
  - role: user
  - role: superadmin
  comment: creates a user in a circle and creates a profile if none exists
- name: logoutUser
  definition:
    kind: synchronous
    handler: '{{HASURA_API_BASE_URL}}/actions/logoutUser'
    headers:
    - name: verification_key
      value_from_env: HASURA_EVENT_SECRET
  permissions:
  - role: superadmin
  - role: user
- name: uploadCircleLogo
  definition:
    kind: synchronous
    handler: '{{HASURA_API_BASE_URL}}/actions/uploadCircleLogo'
    forward_client_headers: true
    headers:
    - name: verification_key
      value_from_env: HASURA_EVENT_SECRET
  permissions:
  - role: user
  - role: superadmin
- name: uploadProfileAvatar
  definition:
    kind: synchronous
    handler: '{{HASURA_API_BASE_URL}}/actions/uploadProfileAvatar'
    forward_client_headers: true
    headers:
    - name: verification_key
      value_from_env: HASURA_EVENT_SECRET
  permissions:
  - role: user
  - role: superadmin
- name: uploadProfileBackground
  definition:
    kind: synchronous
    handler: '{{HASURA_API_BASE_URL}}/actions/uploadProfileBackground'
    forward_client_headers: true
    headers:
    - name: verification_key
      value_from_env: HASURA_EVENT_SECRET
  permissions:
  - role: user
  - role: superadmin
- name: create_nominee
  definition:
    kind: synchronous
    handler: '{{HASURA_API_BASE_URL}}/actions/create_nominee'
    headers:
    - name: verification_key
      value_from_env: HASURA_EVENT_SECRET
  permissions:
  - role: user
  - role: superadmin
custom_types:
  enums: []
  input_objects:
  - name: CreateCircleInput
  - name: CreateUserInput
  - name: UploadImageInput
  - name: UploadCircleImageInput
  - name: AdminUpdateUserInput
  - name: create_nominee_input
  objects:
  - name: CreateCircleResponse
    relationships:
    - remote_table:
        schema: public
        name: users
      name: users
      source: default
      type: array
      field_mapping:
        id: circle_id
    - remote_table:
        schema: public
        name: circles
      name: circle
      source: default
      type: object
      field_mapping:
        id: id
  - name: UpdateProfileResponse
    relationships:
    - remote_table:
        schema: public
        name: profiles
      name: profile
      source: default
      type: object
      field_mapping:
        id: id
  - name: UpdateCircleResponse
    relationships:
    - remote_table:
        schema: public
        name: circles
      name: circle
      source: default
      type: object
      field_mapping:
        id: id
  - name: LogoutResponse
    relationships:
    - remote_table:
        schema: public
        name: profiles
      name: profile
      source: default
      type: object
      field_mapping:
        id: id
  - name: UserResponse
    relationships:
    - remote_table:
        schema: public
        name: users
      name: UserResponse
      source: default
      type: object
      field_mapping:
        id: id
  - name: create_nominee_response
    relationships:
    - remote_table:
        schema: public
        name: nominees
      name: nominee
      source: default
      type: object
      field_mapping:
        id: id
  - name: create_nominee_response
    relationships:
    - remote_table:
        schema: public
        name: nominees
      name: nominee
      source: default
      type: object
      field_mapping:
        id: id
  scalars: []
